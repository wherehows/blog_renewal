---
date: '2022-08-27'
title: '8ì›” 4ì£¼ì°¨'
subTitle: '8ì›” 4ì£¼ì°¨'
parent: 'Weekly Journal'
slug: '/weekly-journal/2022-08-27'
---

## ğŸ“Œ ìš”ì†Œì˜ í”„ë¡œí¼í‹° ê°€ì ¸ì˜¤ê¸°

ìš”ì†Œì˜ ë†’ì´(clientHeight)ë‚˜ ìŠ¤í¬ë¡¤ ë‚´ ìœ„ì¹˜(offsetTop)ì— ì ‘ê·¼í•´ì•¼ë§Œ í•˜ëŠ” ë¡œì§ì´ ì¡´ì¬í–ˆë‹¤. ë¦¬ì•¡íŠ¸ì—ì„œ useRefë¡œ DOM ìš”ì†Œì˜ ë†’ì´ ì •ë³´ì— ì ‘ê·¼í•˜ê¸° ì „ì—, currentì˜ ì´ˆê¸°ê°’ìœ¼ë¡œ nullì´ í• ë‹¹ë˜ê¸° ë•Œë¬¸ì— nullì— ëŒ€í•œ ì²˜ë¦¬ë„ ë¬´ì¡°ê±´ í•´ì£¼ì–´ì•¼í–ˆë‹¤. ë³¸ì¸ì€ non nullë¡œ ì²˜ë¦¬ë¥¼ í–ˆëŠ”ë°, íŒ€ì¥ë‹˜ê»˜ì„œ ê°€ê¸‰ì  javascriptë¡œ ì²˜ë¦¬ë¥¼ í•´ë¼ê³  í”¼ë“œë°±ì£¼ì…¨ë‹¤. (ê°œì¸ì ìœ¼ë¡œ ì´ëŸ´ë•Œ ë§Œí¼ì€ non nullì„ ì¨ë„ ë˜ì§€ ì•Šë‚˜ ì‹¶ì€...)

ê·¸ëŸ¬ë©´

```javascript
useEffect(() => {
    const elementHeight = elementRef.current!.clientHeight;
    setElementHeight(elementHeight);
}, [])
```

ì´ë¬ë˜ ì½”ë“œê°€

```javascript
useEffect(() => {
  const elementHeight = elementRef.current?.clientHeight

  if (elementHeight && elementHeight !== 0) {
    setElementHeight(elementHeight)
  }
}, [])
```

ë†’ì´ê°’ ì¡´ì¬ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ì¡°ê±´ë¬¸ì´ ì¶”ê°€ë˜ë©´ì„œ ì´ë ‡ê²Œ ê¸¸ì–´ì§€ê²Œ ëœë‹¤.

ê¸¸ì–´ë³´ì´ì§€ ì•Šì„ ìˆ˜ ìˆì§€ë§Œ, ë³¸ì¸ì´ í•˜ê³ ìˆëŠ” í”„ë¡œì íŠ¸ì—ì„œëŠ” ìš”ì†Œ 5ê°œì˜ ë†’ì´ê°’ ë° ìŠ¤í¬ë¡¤ ë‚´ ìœ„ì¹˜ê°’ì„ êµ¬í•´ì•¼í•˜ê³  ê³„ì‚°í•˜ëŠ” ë¡œì§ë„ ë“¤ì–´ê°€ê¸° ë•Œë¬¸ì—, ì•„ë˜ì™€ ê°™ì´ ì½”ë“œê°€ ë§¤ìš°ë§¤ìš° ê¸¸ì–´ì§€ê²Œëœë‹¤.

```javascript
useEffect(() => {
   const profileHeight = profileRef.current?.clientHeight;
   const topAreaHeight = topAreaRef.current?.clientHeight;
   const commentWriteHeight = commentWriteHeight.current?.clientHeight;

   const profilePosition = profilePosition.current?.offsetTop;
   const commentPosition = commentPosition.current?.offsetTop;

    let visibility = null;

   if(ë†’ì´ê°’ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸) {
        visibility = profilePosition + commentPosition - 5;
   }

   if(ë†’ì´ê°’ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸) {
        ë†’ì´ê°’ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” setter í•¨ìˆ˜ í˜¸ì¶œ
   }
   ...
}, [])
```

ì½”ë“œ ê°€ë…ì„± ê°œì„ ì„ ìœ„í•´ ì†Œê´„í˜¸ ë‚´ë¶€ì˜ ì¡°ê±´ë¬¸ì„ isNilë¡œ ë°”ê¿”ì£¼ì—ˆë‹¤.

```javascript
useEffect(() => {
  const elementHeight = elementRef.current?.clientHeight

  if (helpers.isNil(elementHeight)) {
    setElementHeight(elementHeight)
  }
}, [])
```

í•˜ì§€ë§Œ íƒ€ì…ì´ ì •ì œë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ifë¬¸ ë‚´ë¶€ì—ì„œ elementHeightì— ëŒ€í•œ íƒ€ì…ì´ ì •ì œë˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— íƒ€ì… ë‹¨ì–¸ì„ ë³„ë„ë¡œ í•´ì•¼í•˜ëŠ” ë¶ˆí¸í•¨ì´ ìˆë‹¤.

ì–´ë–»ê²Œ í•˜ë©´ ì´ë¥¼ ê°œì„ í•  ìˆ˜ ìˆì„ê¹Œ í•˜ë‹¤ê°€ isNilì— ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œë¥¼ ì¶”ê°€í–ˆë‹¤.

```javascript
const isNil = <T>(param: unknown): param is T => param !== undefined && param !== null;
```

ê³ ë¯¼ì„ í•˜ë‹¤ê°€ ìš”ì†Œì˜ ë†’ì´ê°’ì„ ê°€ì ¸ì˜¬ ë•Œ helper í•¨ìˆ˜ë¥¼ ê±°ì¹˜ê²Œ í•¨ìœ¼ë¡œì¨ ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œê°€ ë°”ë¡œ ë™ì‘í•˜ë„ë¡ ë§Œë“¤ì—ˆë‹¤.

```javascript
const helper = (param: any, type?: any): param is (typeof type extends undefined ? number : typeof type) => param !== undefined && param !== null;
```

---

## ğŸ“Œ ê³ªì•„ í„°ì ¸ë²„ë¦° íƒ€ì… í´ë”

í˜ì§€ë³„ë¡œ íƒ€ì…ì„ ê´€ë¦¬í•˜ë©° ê°œë°œí•´ì™”ë‹¤. íƒ€ì…ì„ ì„ ì–¸í•˜ë©´ì„œë„ ì–¸ì  ê°€ íƒ€ì… ì¶©ëŒì´ ì¼ì–´ë‚˜ì§€ ì•Šì„ê¹Œ ì˜ˆìƒì€ í–ˆì—ˆëŠ”ë° ì˜¤ëŠ˜ í„°ì ¸ë²„ë ¸ë‹¤. ë™ë£Œê°€ ê°œë°œí•˜ë©´ì„œ ì„ ì–¸í•œ íƒ€ì…ì´ ë‚´ê°€ ì„ ì–¸í•œ íƒ€ì…ê³¼ ì¶©ëŒì´ ì¼ì–´ë‚œ ê²ƒì´ë‹¤. (ë•ë¶„ì— squiggly linesì— ëŒ€í•´ì„œ ëˆˆìœ¼ë¡œë§Œ í™•ì¸í•´ì˜¤ê³  í„°ë¯¸ë„ì˜ problems íƒ­ì€ í™•ì¸í•˜ì§€ ì•Šì•˜ëŠ”ë°, ì´ì œë¶€í„° í™•ì¸í•˜ê²Œ ë ê²ƒ ê°™ë‹¤.)

ì–´ë–»ê²Œ í•˜ë©´ ì´ëŸ¬í•œ ìƒí™©ì„ ì˜ˆë°©í•  ìˆ˜ ìˆì—ˆì„ê¹Œ ìƒê°í•´ë³´ë©´, 100%ëŠ” ì˜ˆë±¡í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ì§€ ì•Šë‚˜ ì‹¶ë‹¤. ë¬¼ë¡  ìƒˆë¡œìš´ íƒ€ì…ì„ ì„ ì–¸í•  ë•Œë§ˆë‹¤, ì™ ì§€ ì¶©ëŒì´ ë‚ ê²ƒ ê°™ì€ ì´ë¦„ì„ ì§€ì„ ë•Œë§ˆë‹¤ í•œë²ˆì¯¤ í™•ì¸í•  ìˆ˜ëŠ” ìˆì§€ë§Œ ëª…í™•í•œ ê¸°ì¤€ë„ ì—†ê³  ë„ˆë¬´ í”¼ê³¤í•œ ì¼ì¸ ê²ƒ ê°™ë‹¤.

ë‹¤ë§Œ ì¡°ê¸ˆì´ë¼ë„ ì´ëŸ¬í•œ ìƒí™©ì— ì²˜í•˜ì§€ ì•Šê¸° ìœ„í•´ì„œ FE íŒ€ì¥ë‹˜ê»˜ íƒ€ì… í´ë”ë¥¼ ë‹¤ìŒ ì„¸ê°€ì§€ë¡œ ë¶„ë¥˜í•˜ëŠ”ê²Œ ì–´ë–¨ê¹Œ í•˜ê³  ì œì•ˆë“œë ¸ë‹¤.

1. libraries
2. pages
3. apis

ê·¸ë¦¬ê³  ì–´ëŠ í´ë”ì—ë„ ì†í•˜ì§€ ì•ŠëŠ” common.d.tsë¥¼ ë‘ëŠ” ê²ƒì´ë‹¤.

libraries í´ë”ì˜ ê²½ìš°, í˜„ì¬ ì¡±íˆ 5ê°œ ì´ìƒì˜ í˜ì´ì§€ì—ì„œ ì‚¬ìš©ì¤‘ì¸ êµ¬ê¸€ ë§µ ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜¹ì€ mui ê´€ë ¨ íƒ€ì…ì„ ì„ ì–¸í•˜ê³ , pagesì˜ ê²½ìš° í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ í˜¹ì€ ë°›ì•„ì˜¨ apiì—ì„œ ì¬ê°€ê³µëœ íƒ€ì…ë“¤ì„ ì„ ì–¸í•œë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ apisëŠ” ì„œë²„ì—ì„œ ë‚´ë ¤ì£¼ëŠ” ìˆœìˆ˜í•œ api ê´€ë ¨ íƒ€ì…ë“¤ì„ ì €ì¥í•œë‹¤.

ì´ë ‡ê²Œ êµ¬ë¶„í•œë‹¤ê³ í•´ì„œ íƒ€ì… ì¶©ëŒì„ 100% ë§‰ì„ ìˆ˜ìˆëŠ” ê²ƒì€ ì•„ë‹ˆì§€ë§Œ, ë¹ˆë„ëŠ” ë‚®ì¶œ ìˆ˜ ìˆìœ¼ë¦¬ë¼ ìƒê°í–ˆê³ , FE íŒ€ì¥ë‹˜ ì—­ì‹œë„ í”ì¾Œíˆ ë°›ì•„ë“¤ì—¬ ì£¼ì…¨ë‹¤.

---

## ğŸ“Œ Property does not exist on type 'never'

ìµœê·¼ ì‘ì—…ì„ í•˜ë©´ì„œ ìœ„ ì—ëŸ¬ë¥¼ ìì£¼ ë§ˆì£¼ì³¤ë‹¤. ê¸°ìˆ  ë¶€ì¬ë¡œ ì¸í•´ì„œ ë§¤ë²ˆ íƒ€ì… ë‹¨ì–¸ì„ í†µí•´ì„œ í•´ê²°í•˜ì—¬ ë„˜ì–´ê°”ëŠ”ë°, ì™œ íŠ¹ì • ë³€ìˆ˜ë¥¼ never íƒ€ì…ìœ¼ë¡œ ì¸ì‹í•˜ëŠ”ì§€ ê¶ê¸ˆí•´ì„œ ì°¾ì•„ë³´ì•˜ë‹¤.

ìš°ì„  ìœ„ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ì½”ë“œëŠ” ë‘ê°€ì§€ê°€ ì¡´ì¬í•˜ëŠ”ë°, ê·¸ì¤‘ í•˜ë‚˜ë¥¼ [stackoverflow](https://stackoverflow.com/questions/44147937/property-does-not-exist-on-type-never)ì—ì„œ ê°€ì ¸ì™”ë‹¤.

```javascript
interface Foo {
  a: 1;
}

let instance: Foo | null = null

const mutate = () =>
  (instance = {
    a: 1,
  })

if (!instance) {
  console.log(null)
} else {
  console.log(instance.a) // ğŸ”¥ ì—ëŸ¬ ë°œìƒ ì§€ì 
}
```

ì²« ë²ˆì§¸ ì˜ˆì‹œëŠ” ì™œ never íƒ€ì…ì— propertyê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  í‘œì‹œí•˜ê³  ìˆì„ê¹Œ? íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ í•¸ë“œë¶ê³¼ ì•ì„œ ì–¸ê¸‰í•œ stackoverflow ë‹µë³€ë“¤ì—ì„œ í•´ë‹µì„ ì–»ì„ ìˆ˜ ìˆì—ˆë‹¤.

> **The never type represents th e type of values that never occur.** For instance, never is the return type for a function expression or an arrow function expression that always throws an exception or one that never returns. **Variables also acquire the type never when narrowed by any type guards that can never be true.**

boldì²˜ë¦¬ëœ ë‚´ìš©ì„ í•´ì„í•´ë³´ë©´, neveríƒ€ì…ì€ ì ˆëŒ€ë¡œ ì¡´ì¬í•  ìˆ˜ ì—†ëŠ” ê°’ì— ëŒ€í•œ íƒ€ì…ì´ë‹¤. (...) ì‚¬ì‹¤ì¼ ìˆ˜ ì—†ëŠ” íƒ€ì… ê°€ë“œ(else ë¬¸ì€ ì ˆëŒ€ë¡œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.)ì— ì˜í•´ì„œ íƒ€ì…ì´ ì¢í˜€ì§„ ê²½ìš°, ë³€ìˆ˜ëŠ” neveríƒ€ì…ì„ ê°–ê²Œ ëœë‹¤.

ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì•„ë˜ì™€ ê°™ì´ ì˜µì…”ë„ ì²´ì´ë‹ì„ ì“¸ë•Œë„ ë™ì¼í•œ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

```javascript
const instance = {
  key: 'foo',
}

console.log(instance.key?.bar) // ğŸ”¥ ì—ëŸ¬ ë°œìƒ ì§€ì 
```

